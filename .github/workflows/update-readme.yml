name: üõ†Ô∏è Update README Stats

on:
  push:
    branches: [main]
  schedule:
    - cron: '0 0 * * *'  # Runs daily

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
      - name: Clone repository
        uses: actions/checkout@v3

      - name: Count Problems and Languages
        run: |
          SOLVED=$(find easy medium hard -type f | wc -l)
          LANGS=$(find easy medium hard -type f | sed 's/.*\.//' | sort | uniq | wc -l)
          sed -i "s/Problems Solved: .*/Problems Solved: $SOLVED/" README.md
          sed -i "s/Languages: .*/Languages: $LANGS/" README.md

      - name: Commit and Push
        run: |
          git config user.name github-actions
          git config user.email github-actions@github.com
          git add README.md
          git commit -m "Auto-update problem count and languages"
          git push
